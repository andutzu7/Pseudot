(function(){"use strict";var e={1446:function(e,t,n){var o=n(4220),r=n(9812);const s={id:"app"};function a(e,t){const n=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r.Wm)(n)])}var i=n(8998);const u={},l=(0,i.Z)(u,[["render",a]]);var d=l,c=n(3065);const p={class:"home"};function m(e,t,n,o,s,a){const i=(0,r.up)("note-items");return(0,r.wg)(),(0,r.iD)("div",p,[(0,r.Wm)(i)])}const f={class:"tc-notes-wrapper"},w={class:"tc-notes"};function h(e,t,n,o,s,a){const i=(0,r.up)("add-new-button"),u=(0,r.up)("note");return(0,r.wg)(),(0,r.iD)("div",f,[(0,r.Wm)(i,{onAddNewNote:a.addNewNote},null,8,["onAddNewNote"]),(0,r._)("div",w,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.notes,((e,t)=>((0,r.wg)(),(0,r.j4)(u,{emits:"",key:t,index:t,note:e,onDeleteNote:a.deleteNote,onNoteUpdate:a.noteUpdate},null,8,["index","note","onDeleteNote","onNoteUpdate"])))),128))])])}function v(e,t,n,o,s,a){return(0,r.wg)(),(0,r.iD)("button",{onClick:t[0]||(t[0]=(...e)=>a.addNewNote&&a.addNewNote(...e)),class:"new-note-btn"},"+")}var g={name:"AddNewButton",methods:{addNewNote(){this.$emit("addNewNote")}}};const _=(0,i.Z)(g,[["render",v],["__scopeId","data-v-50318f32"]]);var b=_,y=n(5893);const N=e=>((0,r.dD)("data-v-ee55f4b6"),e=e(),(0,r.Cn)(),e),k={class:"item_container"},D={class:"tc-note"},x={class:"tc-note-header"},C=N((()=>(0,r._)("div",null,null,-1)));function O(e,t,n,o,s,a){return(0,r.wg)(),(0,r.iD)("div",k,[(0,r._)("div",D,[(0,r._)("div",x,[(0,r._)("span",{onClick:t[0]||(t[0]=(...e)=>a.deleteNote&&a.deleteNote(...e)),class:"tc-note-close"}," X ")]),(0,r._)("div",{class:"tc-note-title",contenteditable:"",onBlur:t[1]||(t[1]=(...e)=>a.titleChange&&a.titleChange(...e))},(0,y.zw)(n.note.title),33),(0,r._)("div",{class:"tc-note-body",contenteditable:"",onBlur:t[2]||(t[2]=(...e)=>a.bodyChange&&a.bodyChange(...e))},(0,y.zw)(n.note.description),33)]),C])}var U={name:"NoteItem",props:{note:{type:Object,required:!0},index:{required:!0}},methods:{deleteNote(){this.$emit("deleteNote",this.note)},titleChange(e){let t={index:this.index,key:"title",newValue:e.target.innerText};this.$emit("noteUpdate",t)},bodyChange(e){let t={index:this.index,key:"description",newValue:e.target.innerText};this.$emit("noteUpdate",t)}}};const j=(0,i.Z)(U,[["render",O],["__scopeId","data-v-ee55f4b6"]]);var V=j,Z=n(6211),W=n.n(Z);let I={baseURL:"http://keepr.pseudot.xyz/api"};const L=W().create(I);L.interceptors.response.use((e=>e),(e=>(401===e.response.status&&Ue.push({name:"login"}),Promise.reject(e))));var Y=L,z={name:"NoteItems",components:{Note:V,AddNewButton:b},data(){return{notes:[]}},methods:{async addNewNote(){const{status:e,data:t}=await Y.post("items",{});200==e&&this.notes.unshift(t)},async deleteNote(e){if(e.id){const t=await Y["delete"](`items/${e.id}`);if(200==t.status){const{status:e,data:t}=await Y.get("items");200==e&&(this.notes=t._embedded.items,this.notes.reverse())}}else{let t=this.notes.indexOf(e),n=this.notes[t]._links.self.href;const o=await W()["delete"](n);200===o.status&&this.notes.splice(t,1)}},async noteUpdate(e){let t=this.notes[e["index"]];const n=t._links.self.href;t[e["key"]]=e["newValue"];const o=await Y.put(n,t);200==o.status&&(this.notes[e["index"]]=t)}},async mounted(){const{status:e,data:t}=await Y.get("items");200==e&&(this.notes=t._embedded.items,this.notes.reverse())}};const A=(0,i.Z)(z,[["render",h],["__scopeId","data-v-2084934c"]]);var R=A,$={name:"HomeView",components:{NoteItems:R}};const q=(0,i.Z)($,[["render",m]]);var B=q;const H={class:"form-wrapper"},P=(0,r._)("h3",null,"Login to create notes",-1),T={key:0,class:"errors"},K=(0,r._)("br",null,null,-1),M=(0,r._)("br",null,null,-1),S=(0,r._)("button",null,"Login",-1),E=(0,r.Uk)("Click here to register");function F(e,t,n,s,a,i){const u=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",H,[P,(0,r._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...t)=>e.login&&e.login(...t)),["prevent"])),action:""},[a.errors?((0,r.wg)(),(0,r.iD)("div",T,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.errors,((e,t)=>((0,r.wg)(),(0,r.iD)("p",{key:t},(0,y.zw)(e[0]),1)))),128))])):(0,r.kq)("",!0),(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.form.username=e),placeholder:"Your username"},null,512),[[o.nr,a.form.username]]),K,(0,r.wy)((0,r._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>a.form.password=e),placeholder:"Your password"},null,512),[[o.nr,a.form.password]]),M,S,(0,r.Wm)(u,{to:"/register",class:"link"},{default:(0,r.w5)((()=>[E])),_:1})],32)])}var X={name:"LoginView",data(){return{form:{username:"",password:""},errors:null}},methods:{}};const G=(0,i.Z)(X,[["render",F]]);var J=G;const Q={class:"form-wrapper"},ee=(0,r._)("h3",null,"Register and create notes",-1),te={key:0,class:"errors"},ne=(0,r._)("br",null,null,-1),oe=(0,r._)("br",null,null,-1),re=(0,r._)("br",null,null,-1),se=(0,r._)("button",null,"Register",-1),ae=(0,r.Uk)("Click here to login");function ie(e,t,n,s,a,i){const u=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",Q,[ee,(0,r._)("form",{onSubmit:t[3]||(t[3]=(0,o.iM)(((...t)=>e.register&&e.register(...t)),["prevent"])),action:""},[a.errors?((0,r.wg)(),(0,r.iD)("div",te,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.errors,((e,t)=>((0,r.wg)(),(0,r.iD)("p",{key:t},(0,y.zw)(e[0]),1)))),128))])):(0,r.kq)("",!0),(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.form.username=e),placeholder:"Your username"},null,512),[[o.nr,a.form.username]]),ne,(0,r.wy)((0,r._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>a.form.password=e),placeholder:"Your password"},null,512),[[o.nr,a.form.password]]),oe,(0,r.wy)((0,r._)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>a.form.password_repeat=e),placeholder:"Repeat password"},null,512),[[o.nr,a.form.password_repeat]]),re,se,(0,r.Wm)(u,{to:"/login",class:"link"},{default:(0,r.w5)((()=>[ae])),_:1})],32)])}var ue={name:"RegisterView",data(){return{form:{username:"",password:"",password_repeat:""},errors:null}},methods:{}};const le=(0,i.Z)(ue,[["render",ie]]);var de=le;const ce={id:"default-layout"};function pe(e,t,n,o,s,a){const i=(0,r.up)("navbar"),u=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",ce,[(0,r.Wm)(i,{user:s.user},null,8,["user"]),(0,r.Wm)(u)])}const me={class:"navbar"};function fe(e,t,n,o,s,a){return(0,r.wg)(),(0,r.iD)("div",me,[(0,r.Uk)(" Welcome "+(0,y.zw)(n.user.username)+" ",1),(0,r._)("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=(...t)=>e.logout&&e.logout(...t))},"Logout")])}var we={name:"NavbarLComponent",props:{user:Object},methods:{}};const he=(0,i.Z)(we,[["render",fe],["__scopeId","data-v-6112b9ba"]]);var ve=he,ge={name:"DefaultLayout",components:{Navbar:ve},data(){return{user:{}}}};const _e=(0,i.Z)(ge,[["render",pe],["__scopeId","data-v-0b6fe5dd"]]);var be=_e;const ye={id:"auth-layout"};function Ne(e,t,n,o,s,a){const i=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",ye,[(0,r.Wm)(i)])}var ke={name:"AuthLayout"};const De=(0,i.Z)(ke,[["render",Ne]]);var xe=De;const Ce=[{path:"/",name:"Default",redirect:"/home",component:be,children:[{path:"home",name:"home",component:B}]},{path:"/auth",name:"Auth",component:xe,children:[{path:"login",name:"login",component:J},{path:"register",name:"register",component:de}]},{path:"/login",redirect:"/auth/login"},{path:"/register",redirect:"/auth/register"}],Oe=(0,c.p7)({history:(0,c.PO)(),routes:Ce});var Ue=Oe;(0,o.ri)(d).use(Ue).mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,s){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],r=e[d][1],s=e[d][2];for(var i=!0,u=0;u<o.length;u++)(!1&s||a>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(i=!1,s<a&&(a=s));if(i){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[o,r,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,s,a=o[0],i=o[1],u=o[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(u)var d=u(n)}for(t&&t(o);l<a.length;l++)s=a[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(d)},o=self["webpackChunkhello_world"]=self["webpackChunkhello_world"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(1446)}));o=n.O(o)})();
//# sourceMappingURL=app.cf43e842.js.map